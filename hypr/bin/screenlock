#!/bin/bash

wallpaper="/usr/share/backgrounds/archlinux/split.png"

case "$1" in
  idle)
    swayidle -w \
      timeout 1800 "swaylock -f -i ${wallpaper}" \
      timeout 2400 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on' \
      before-sleep "swaylock -f -i ${wallpaper}"
    ;;
  now)
    swaylock -i ${wallpaper};;
  *)
    echo "Usage: $0 {idle|now}"
    exit 1
esac
